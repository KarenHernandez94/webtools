D2L=D2L||{};D2L.ClassStream=D2L.ClassStream||{};D2L.ClassStream.Dialog={OpenIfOkReloadWidgetFraIframe:function(openerId,location,fraId,settings){var openEvent=D2L.LP.Web.UI.Desktop.MasterPages.Dialog.Open(openerId,location,settings);openEvent.AddListener(function(result){function getIFrame(){return window.document.getElementById(fraId);}if(!D2L.LP.AppLoader.IFrame.MessageListenerMap.has(fraId)){function handleIsFramedRequest(evt){if(!evt||evt.data!=='isFramedRequest')return;var iframe=getIFrame();if(!iframe)return;if(iframe.contentWindow!==evt.source)return;if(!/^(?:http|https):\/\//.test(evt.origin))return;evt.source.postMessage({isFramed:true},evt.origin);window.removeEventListener('message',handleIsFramedRequest,false);D2L.LP.AppLoader.IFrame.MessageListenerMap.delete(fraId);}D2L.LP.AppLoader.IFrame.MessageListenerMap.set(fraId,handleIsFramedRequest);window.addEventListener('message',handleIsFramedRequest,false);}var fraElement=window.document.getElementById(fraId);if(result&&fraElement){fraElement.src=fraElement.src;};});return openEvent;},HandleAbort(targetId){const widgetElm=D2L.LP.Web.UI.Html.Dom.GetElementById(targetId);widgetElm===null||widgetElm===void 0||widgetElm.onAbort();},OpenManageCommentingDialog(targetId){const widgetElm=D2L.LP.Web.UI.Html.Dom.GetElementById(targetId);widgetElm===null||widgetElm===void 0||widgetElm.onManageWidget();}};